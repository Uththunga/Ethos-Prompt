<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cross-System Integration Test</title>
    <!-- Adaptive favicon for light/dark mode -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .test-container {
        background: white;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .test-result {
        padding: 10px;
        margin: 5px 0;
        border-radius: 4px;
        font-weight: bold;
      }
      .success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
      .warning {
        background-color: #fff3cd;
        color: #856404;
        border: 1px solid #ffeaa7;
      }
      .test-button {
        display: inline-block;
        margin: 5px;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }
      .test-button:hover {
        background-color: #0056b3;
      }
      .navigation-test {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }
      .nav-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        background: #f8f9fa;
      }
      .nav-card h4 {
        margin: 0 0 10px 0;
        color: #333;
      }
      .nav-link {
        display: block;
        margin: 5px 0;
        padding: 8px 12px;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        font-size: 13px;
        text-align: center;
      }
      .nav-link:hover {
        background: #0056b3;
      }
      .dashboard-link {
        background: #28a745;
      }
      .dashboard-link:hover {
        background: #1e7e34;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ”„ Cross-System Integration Test</h1>
    <p>
      This test verifies seamless integration between marketing pages and dashboard functionality.
    </p>

    <div class="test-container">
      <h2>ğŸ“‹ Integration Test Results</h2>
      <div id="test-results"></div>
      <button class="test-button" onclick="runIntegrationTests()">ğŸš€ Run Integration Tests</button>
    </div>

    <div class="test-container">
      <h2>ğŸŒ Navigation Flow Testing</h2>
      <p>Test navigation between marketing and dashboard systems:</p>

      <div class="navigation-test">
        <div class="nav-card">
          <h4>ğŸ“„ Marketing Pages</h4>
          <a href="http://localhost:3001/" class="nav-link" target="_blank">Homepage</a>
          <a href="http://localhost:3001/solutions" class="nav-link" target="_blank">Solutions</a>
          <a href="http://localhost:3001/contact" class="nav-link" target="_blank">Contact</a>
          <a href="http://localhost:3001/guides" class="nav-link" target="_blank"
            >Prompting Guide</a
          >
        </div>

        <div class="nav-card">
          <h4>ğŸ›ï¸ Dashboard System</h4>
          <a href="http://localhost:3001/dashboard" class="nav-link dashboard-link" target="_blank"
            >Dashboard Home</a
          >
          <a
            href="http://localhost:3001/dashboard/prompts"
            class="nav-link dashboard-link"
            target="_blank"
            >Prompts</a
          >
          <a
            href="http://localhost:3001/dashboard/documents"
            class="nav-link dashboard-link"
            target="_blank"
            >Documents</a
          >
          <a
            href="http://localhost:3001/dashboard/executions"
            class="nav-link dashboard-link"
            target="_blank"
            >Executions</a
          >
          <a
            href="http://localhost:3001/dashboard/analytics"
            class="nav-link dashboard-link"
            target="_blank"
            >Analytics</a
          >
        </div>

        <div class="nav-card">
          <h4>ğŸ” Authentication</h4>
          <a href="http://localhost:3001/auth" class="nav-link" target="_blank">Login/Signup</a>
          <a href="http://localhost:3001/beta-signup" class="nav-link" target="_blank"
            >Beta Signup</a
          >
        </div>

        <div class="nav-card">
          <h4>ğŸ“š Service Pages</h4>
          <a
            href="http://localhost:3001/services/digital-solutions"
            class="nav-link"
            target="_blank"
            >Digital Solutions & Modernization</a
          >
          <a
            href="http://localhost:3001/services/system-integration"
            class="nav-link"
            target="_blank"
            >System Integration</a
          >
          <a href="http://localhost:3001/services/smart-assistant" class="nav-link" target="_blank"
            >Smart Business Assistant</a
          >
        </div>
      </div>
    </div>

    <div class="test-container">
      <h2>ğŸ” Manual Verification Checklist</h2>
      <div id="manual-checklist">
        <label><input type="checkbox" /> Marketing navigation menu works on all pages</label><br />
        <label><input type="checkbox" /> Dashboard navigation preserved and functional</label><br />
        <label
          ><input type="checkbox" /> Cross-navigation between marketing and dashboard works</label
        ><br />
        <label><input type="checkbox" /> Authentication flow accessible from marketing pages</label
        ><br />
        <label><input type="checkbox" /> No route conflicts between systems</label><br />
        <label><input type="checkbox" /> Moleicon appears on all pages (zen-home style)</label
        ><br />
        <label><input type="checkbox" /> Page loading states work correctly</label><br />
        <label><input type="checkbox" /> Error boundaries handle failures gracefully</label><br />
        <label><input type="checkbox" /> Browser back/forward navigation works</label><br />
        <label><input type="checkbox" /> Deep linking to specific pages works</label><br />
      </div>
    </div>

    <script>
      const testResults = document.getElementById('test-results');

      function addTestResult(message, type = 'success') {
        const div = document.createElement('div');
        div.className = `test-result ${type}`;
        div.textContent = message;
        testResults.appendChild(div);
      }

      async function testRouteAccessibility() {
        const routes = [
          // Marketing routes
          { path: '/', name: 'Homepage', type: 'marketing' },
          { path: '/solutions', name: 'Solutions', type: 'marketing' },
          { path: '/contact', name: 'Contact', type: 'marketing' },
          { path: '/guides', name: 'Prompting Guide', type: 'marketing' },
          { path: '/guides/basics', name: 'Basics', type: 'marketing' },
          { path: '/guides/techniques', name: 'Techniques', type: 'marketing' },
          { path: '/faq', name: 'FAQ', type: 'marketing' },
          { path: '/help', name: 'Help Center', type: 'marketing' },

          {
            path: '/services/digital-transformation',
            name: 'Digital Transformation',
            type: 'marketing',
          },
          {
            path: '/services/intelligent-applications',
            name: 'Intelligent Applications',
            type: 'marketing',
          },
          { path: '/services/system-integration', name: 'System Integration', type: 'marketing' },
          { path: '/privacy', name: 'Privacy Policy', type: 'marketing' },
          { path: '/terms', name: 'Terms of Service', type: 'marketing' },
          { path: '/cookies', name: 'Cookie Policy', type: 'marketing' },

          // Dashboard routes (may require auth)
          { path: '/dashboard', name: 'Dashboard', type: 'dashboard' },
          { path: '/auth', name: 'Authentication', type: 'auth' },
          { path: '/beta-signup', name: 'Beta Signup', type: 'auth' },
        ];

        let marketingSuccess = 0;
        let dashboardSuccess = 0;
        let authSuccess = 0;
        let totalErrors = 0;

        for (const route of routes) {
          try {
            const response = await fetch(`http://localhost:3001${route.path}`);
            if (response.ok) {
              addTestResult(
                `âœ… ${route.name} (${route.path}) - HTTP ${response.status}`,
                'success'
              );
              if (route.type === 'marketing') marketingSuccess++;
              else if (route.type === 'dashboard') dashboardSuccess++;
              else if (route.type === 'auth') authSuccess++;
            } else {
              addTestResult(
                `âš ï¸ ${route.name} (${route.path}) - HTTP ${response.status}`,
                'warning'
              );
              totalErrors++;
            }
          } catch (error) {
            addTestResult(`âŒ ${route.name} (${route.path}) - Error: ${error.message}`, 'error');
            totalErrors++;
          }
        }

        // Summary
        addTestResult(`ğŸ“Š Marketing Pages: ${marketingSuccess} accessible`, 'success');
        addTestResult(`ğŸ“Š Dashboard Routes: ${dashboardSuccess} accessible`, 'success');
        addTestResult(`ğŸ“Š Auth Routes: ${authSuccess} accessible`, 'success');
        if (totalErrors > 0) {
          addTestResult(`âš ï¸ Total Errors: ${totalErrors}`, 'warning');
        }
      }

      async function testAssetLoading() {
        addTestResult('ğŸ–¼ï¸ Testing marketing asset loading...', 'warning');

        const criticalAssets = [
          '/assets/marketing/images/ethosbrain.svg',
          '/assets/marketing/images/Group 288.png',
          '/assets/marketing/images/bot.png',
          '/assets/marketing/images/mole1.png',
        ];

        let loadedCount = 0;
        let errorCount = 0;

        for (const asset of criticalAssets) {
          try {
            const response = await fetch(`http://localhost:3001${asset}`);
            if (response.ok) {
              addTestResult(`âœ… Asset loaded: ${asset}`, 'success');
              loadedCount++;
            } else {
              addTestResult(`âŒ Asset failed: ${asset} - HTTP ${response.status}`, 'error');
              errorCount++;
            }
          } catch (error) {
            addTestResult(`âŒ Asset error: ${asset} - ${error.message}`, 'error');
            errorCount++;
          }
        }

        addTestResult(
          `ğŸ“Š Assets: ${loadedCount} loaded, ${errorCount} failed`,
          errorCount === 0 ? 'success' : 'warning'
        );
      }

      function testJavaScriptIntegration() {
        addTestResult('ğŸ” Testing JavaScript integration...', 'warning');

        // Test if React is loaded
        if (typeof React !== 'undefined') {
          addTestResult('âœ… React is available globally', 'success');
        } else {
          addTestResult('âš ï¸ React not available globally (normal for production)', 'warning');
        }

        // Test if marketing components can be accessed
        try {
          // This would only work if we're on the actual app page
          addTestResult('âœ… JavaScript integration test completed', 'success');
        } catch (error) {
          addTestResult(`âŒ JavaScript integration error: ${error.message}`, 'error');
        }
      }

      async function runIntegrationTests() {
        testResults.innerHTML = '';
        addTestResult('ğŸš€ Starting cross-system integration tests...', 'warning');

        await testRouteAccessibility();
        await testAssetLoading();
        testJavaScriptIntegration();

        addTestResult('âœ… Integration tests completed!', 'success');
        addTestResult(
          'ğŸ’¡ Use the navigation links above to manually test cross-system flows',
          'warning'
        );
      }

      // Auto-run basic tests on load
      document.addEventListener('DOMContentLoaded', () => {
        addTestResult('âœ… Cross-system integration test page loaded', 'success');
        addTestResult('ğŸ’¡ Click "Run Integration Tests" to start automated testing', 'warning');
      });
    </script>
  </body>
</html>
