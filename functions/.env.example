# RAG Prompt Library - Backend Environment Configuration Template
# Copy this file to .env and fill in your actual values

# OpenRouter API Configuration
# Get your API keys from https://openrouter.ai/keys
# OpenRouter handles all LLM operations including embeddings
OPENROUTER_API_KEY=sk-or-v1-your-primary-api-key-here
OPENROUTER_API_KEY_RAG=sk-or-v1-your-rag-specific-api-key-here

# Model Configuration
# Free models available on OpenRouter
PROMPT_GENERATION_MODEL=nvidia/llama-3.1-nemotron-ultra-253b-v1:free
RAG_PROCESSING_MODEL=nvidia/llama-3.1-nemotron-ultra-253b-v1:free
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small
DEFAULT_LLM_MODEL=anthropic/claude-3.5-sonnet

# Alternative paid models (uncomment to use)
# PROMPT_GENERATION_MODEL=anthropic/claude-3.5-sonnet
# RAG_PROCESSING_MODEL=openai/gpt-4-turbo-preview

# Environment Configuration
PYTHON_ENV=development
NODE_ENV=production
FUNCTIONS_EMULATOR=false
LOG_LEVEL=info

# Firebase Project Configuration (usually auto-configured)
FIREBASE_PROJECT_ID=rag-prompt-library
FIREBASE_STORAGE_BUCKET=rag-prompt-library.firebasestorage.app

# API Configuration
API_VERSION=v1
MAX_CONTEXT_CHUNKS=10
API_RATE_LIMIT=100
API_RATE_WINDOW=60

# LLM Configuration
LLM_TIMEOUT=30
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=1

# RAG Configuration
VECTOR_DIMENSION=1536
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_QUERY=10
SIMILARITY_THRESHOLD=0.7

# Document Processing
MAX_DOCUMENT_SIZE=10485760
ALLOWED_DOCUMENT_TYPES=pdf,txt,doc,docx,md
PROCESSING_TIMEOUT=300

# Security Configuration
JWT_SECRET=your-jwt-secret-here
API_KEY_PREFIX=rag_
ENABLE_RATE_LIMITING=true
ENABLE_API_KEY_AUTH=true
ADMIN_API_KEY=your-secure-admin-key-here  # Required for /api/admin/* endpoints


# Feature Flags
ENABLE_MULTI_MODEL_SUPPORT=true
ENABLE_ADVANCED_RAG=true
ENABLE_ANALYTICS=true
ENABLE_AUDIT_LOGGING=true

# Monitoring and Logging
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ERROR_REPORTING=true

# Sentry Error Tracking (Optional but Recommended for Production)
# Get your DSN from https://sentry.io/settings/projects/
# Format: https://[key]@[organization].ingest.sentry.io/[project-id]
SENTRY_DSN=your-sentry-dsn-here
ENVIRONMENT=production  # Options: development, staging, production

# Production Overrides (set these in production)
# PYTHON_ENV=production
# NODE_ENV=production
# FUNCTIONS_EMULATOR=false
# LOG_LEVEL=warn

# ============================================================================
# Marketing Agent Configuration (Centralized)
# ============================================================================

# Environment
MARKETING_AGENT_ENVIRONMENT=development  # Options: development, staging, production

# LLM Provider
MARKETING_AGENT_LLM_PROVIDER=openrouter  # Options: openrouter, granite

# OpenRouter Settings
MARKETING_AGENT_OPENROUTER_API_KEY=sk-or-v1-your-api-key-here
MARKETING_AGENT_OPENROUTER_MODEL=z-ai/glm-4.5-air:free

# IBM Watsonx/Granite Settings (use GCP Secret Manager in production)
MARKETING_AGENT_WATSONX_API_KEY=your-watsonx-api-key-here
MARKETING_AGENT_WATSONX_PROJECT_ID=your-project-id-here
MARKETING_AGENT_WATSONX_MODEL_ID=ibm/granite-4-0-h-small

# Model Parameters
MARKETING_AGENT_TEMPERATURE=0.6
MARKETING_AGENT_MAX_TOKENS=400
MARKETING_AGENT_STREAMING=true

# Retrieval Configuration
MARKETING_AGENT_RETRIEVAL_TOP_K=5
MARKETING_AGENT_RETRIEVAL_USE_HYBRID=true
MARKETING_AGENT_RETRIEVAL_SEMANTIC_WEIGHT=0.7
MARKETING_AGENT_RETRIEVAL_BM25_WEIGHT=0.3
MARKETING_AGENT_RETRIEVAL_USE_RERANKING=false

# Redis Cache (Optional)
MARKETING_AGENT_REDIS_ENABLED=false
MARKETING_AGENT_REDIS_HOST=localhost
MARKETING_AGENT_REDIS_PORT=6379
MARKETING_AGENT_REDIS_DB=0
MARKETING_AGENT_REDIS_TTL=3600

# Monitoring
MARKETING_AGENT_MONITORING_ENABLED=true
MARKETING_AGENT_SENTRY_DSN=your-sentry-dsn-here

# Performance
MARKETING_AGENT_USE_MOCK_MODE=false
MARKETING_AGENT_ENABLE_PROMPT_CACHING=true
MARKETING_AGENT_ENABLE_HTTP_SESSION_REUSE=true
